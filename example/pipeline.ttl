@prefix rdfc: <https://w3id.org/rdf-connect#>.
@prefix js: <https://w3id.org/conn/js#>.
@prefix : <https://w3id.org/conn#>.
@prefix owl: <http://www.w3.org/2002/07/owl#>.

<> owl:imports <./node_modules/@rdfc/file-utils-processors-ts/processors.ttl>.
<> owl:imports <./node_modules/@rdfc/log-processor-ts/processor.ttl>.
<> owl:imports <./node_modules/@rdfc/js-runner/index.ttl>.
<> owl:imports <./node_modules/ldes-client/processor.ttl>.
<> owl:imports <../processor.ttl>.
<> a rdfc:Pipeline;
  rdfc:consistsOf [
    rdfc:instantiates rdfc:NodeRunner;
    rdfc:processor <client>, <buffer>, <logger>;
  ].

<client> a rdfc:LdesClient;
  rdfc:output <input>;
  rdfc:url <https://telraam-api.net/ldes/observations/by-page>;
  rdfc:fetch [ js:safe true ].

<buffer> a rdfc:Buffer;
  rdfc:incoming <input>;
  rdfc:outgoing <output>;
  rdfc:interval 5000;
  rdfc:amount 100;
  rdfc:minAmount 100.

<logger> a rdfc:LogProcessorJs;
  rdfc:reader <output>;
  rdfc:level "info";
  rdfc:label "default".

